<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입: HODU</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body class="login join">
    <header>
      <h1>
        <a href="/"><img src="/images/Logo-hodu.png" alt="HODU" /></a>
      </h1>
    </header>
    <main>
      <section>
        <h2 class="sr-only">회원가입</h2>
        <ul class="button-row">
          <li><button class="buyer active">구매회원가입</button></li>
          <li><button class="seller">판매회원가입</button></li>
        </ul>
        <form action="submit" method="post">
          <fieldset>
            <label for="id">아이디</label>
            <div class="field-exists">
              <input type="text" name="id" id="id" />
              <button>중복확인</button>
            </div>
            <label for="password">비밀번호</label>
            <div class="field-security">
              <input type="password" name="password" id="password" />
              <img
                class="first-pw-check"
                src="/images/icon-check-off.svg"
                alt="안전하지 않음"
              />
            </div>
            <label for="passwordCheck">비밀번호 재확인</label>
            <div class="field-security">
              <input
                type="passwordCheck"
                name="passwordCheck"
                id="passwordCheck"
              />
              <img
                class="second-pw-check"
                src="/images/icon-check-off.svg"
                alt="안전하지 않음"
              />
            </div>
            <label for="name">이름</label>
            <input type="text" name="name" id="name" />
            <label for="phone">휴대폰번호</label>
            <div class="field-phone">
              <div class="phone-area-container">
                <div class="select-wrapper" tabindex="0">
                  <input
                    type="number"
                    name="phone-area"
                    id="phone-area"
                    minlength="3"
                    maxlength="3"
                    value="010"
                    readonly
                    tabindex="-1"
                  />
                </div>
                <ul class="optionList">
                  <li class="optionItem" tabindex="0">010</li>
                  <li class="optionItem" tabindex="0">011</li>
                  <li class="optionItem" tabindex="0">016</li>
                  <li class="optionItem" tabindex="0">017</li>
                  <li class="optionItem" tabindex="0">018</li>
                  <li class="optionItem" tabindex="0">019</li>
                </ul>
              </div>
              <input
                type="number"
                name="phone-mid"
                id="phone-mid"
                minlength="4"
                maxlength="4"
              />
              <input
                type="number"
                name="phone-end"
                id="phone-end"
                minlength="4"
                maxlength="4"
              />
            </div>
            <div class="business-only">
              <label for="business">사업자 등록번호</label>
              <div class="field-business">
                <input type="number" name="business" id="business" />
                <button>인증</button>
              </div>
              <label for="store-name">스토어 이름</label>
              <input type="text" name="store-name" id="store-name" />
            </div>
          </fieldset>
          <div class="agree">
            <input type="checkbox" name="agree" id="agree" />
            <label for="agree">
              <span
                >호두샵의 <a href="/terms">이용약관</a> 및
                <a href="/privacy">개인정보처리방침</a>에 대한 내용을 확인하였고
                동의합니다.</span
              ></label
            >
            <button type="submit" disabled>가입하기</button>
          </div>
        </form>
      </section>
    </main>
    <script>
      const buttons = document.querySelectorAll(".button-row button");
      const buyersOnly = document.querySelector("div.business-only");

      const select = document.querySelector(".select-wrapper");
      const optionList = document.querySelector(".optionList");
      const options = document.querySelectorAll(".optionList li");

      buttons.forEach((button, index) => {
        button.addEventListener("click", () => {
          buttons.forEach((button) => button.classList.remove("active"));
          button.classList.add("active");
          if (button.classList.contains("buyer"))
            buyersOnly.classList.remove("active");
          else {
            buyersOnly.classList.add("active");
          }
        });
      });

      select.addEventListener("click", (e) => {
        e.preventDefault();
        optionList.classList.toggle("active");
        select.classList.toggle("active");
        optionList.scrollTo(0, 0);
      });

      select.addEventListener("keypress", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          optionList.classList.toggle("active");
          select.classList.toggle("active");
          optionList.scrollTo(0, 0);
        }
      });

      options.forEach((option) => {
        option.addEventListener("click", (e) => {
          e.preventDefault();
          select.querySelector("input").value = option.textContent;
          optionList.classList.remove("active");
        });

        option.addEventListener("keypress", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            select.querySelector("input").value = option.textContent;
            optionList.classList.remove("active");
          }
        });
      });
    </script>
  </body>
</html>
